# Anchor Demo App

재생 컨트롤과 스크롤이 연동되는 UX 패턴을 시연하기 위한 Flutter 데모입니다.  
타임라인(슬라이더/마커)과 텍스트 세그먼트 리스트가 같은 재생 위치를 공유하며, 사용자가 어느 쪽을 조작하든 다른 레이아웃이 즉시 동기화됩니다.

## 주요 기능

- **재생 시뮬레이터**: `PlaybackSimulator`가 실제 오디오 없이도 재생/일시정지/탐색 이벤트를 모사합니다.
- **타임라인 컨트롤러**: `TimelineDemoControls` 위젯이 재생 막대, 마커, 탐색 버튼 등을 제공해 위치 이동을 시각적으로 표현합니다.
- **세그먼트 스크롤 연동**: `SegmentScrollCoordinator`가 재생 위치에 맞춰 텍스트 세그먼트를 스크롤하고, 세그먼트를 탭하면 재생 위치가 이동합니다.
- **데모 데이터**: `buildDemoData()`가 단순한 대화 스크립트와 체크포인트를 생성하여 UX 흐름을 빠르게 테스트할 수 있게 해줍니다.

## 화면 흐름

1. 앱이 시작되면 `AnchorDemoPage`가 데모 데이터를 로드하고, 재생 시뮬레이터 및 스크롤 코디네이터를 초기화합니다.
2. 상단 `CustomScrollView`는 세그먼트 리스트를 렌더링하며, 현재 재생 위치에 해당하는 카드에 강조 배경을 적용합니다.
3. 하단 `TimelineDemoControls`에서 슬라이더를 드래그하거나 마커를 탭하면 재생 위치가 이동하고, 리스트는 해당 세그먼트를 중심으로 스크롤됩니다.
4. 반대로 세그먼트 카드를 탭하면 해당 타임스탬프로 이동하면서 타임라인 UI가 자동으로 갱신됩니다.

## 실행 방법

```bash
flutter pub get
flutter run
```

## 폴더 구조 요약

- `lib/main.dart` – 전체 데모 페이지 구성 및 상태 관리.
- `lib/data.dart` – 데모 세그먼트/체크 데이터와 지속 시간 계산.
- `lib/playback.dart` – 재생 시뮬레이터와 관련 스트림 제공.
- `lib/scrolling.dart` – 세그먼트 앵커 계산 및 스크롤 동기화 로직.
- `lib/widgets/` – 타임라인, 세그먼트 리스트 등 UI 컴포넌트 모음.
- `lib/constants.dart` – 스크롤 앵커 오프셋, 일시정지 시 스크롤 임계값 등 상수 정의.

## 커스터마이징 포인트

- **데이터 교체**: `buildDemoData()`를 수정해 실제 서비스 데이터나 더 많은 세그먼트를 시뮬레이션할 수 있습니다.
- **스크롤 기준 조정**: `constants.dart`의 `scrollAnchorOffset`으로 타임라인과 리스트 맞춤 위치를 변경할 수 있습니다.
- **재생 로직 확장**: 현재는 시뮬레이션이지만, `PlaybackSimulator`를 실제 플레이어 인터페이스로 교체하면 실서비스와 동일한 경험을 테스트할 수 있습니다.

## 개발 메모

- Flutter 3.2 이상 버전을 요구합니다.
- 데모 특성상 외부 의존성은 없습니다.

이 데모를 기반으로 재생 UX 연구, 디자인 검증, 또는 내부 도구 프로토타입 제작을 빠르게 진행할 수 있습니다.
